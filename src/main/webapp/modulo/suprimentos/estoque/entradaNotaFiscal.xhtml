<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                template="/WEB-INF/layout/layoutPadrao.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:erp="http://java.sun.com/jsf/composite/components"
>

    <ui:define name="title">
        Entrada de NFe
    </ui:define>

    <ui:define name="tela">
        #{entradaNotaFiscalControll.titulo}
    </ui:define>
    <ui:define name="controle">
        Entrada de NFe
    </ui:define>


    <ui:define name="gridDados">


        <erp:formularioGrid controller="#{entradaNotaFiscalControll}"
                            id="telaGrid"
                            telaDetalhePadrao="false">


            <div class="row m-b">

                <erp:campoData nomeAtributo="#{entradaNotaFiscalControll.dataInicial}"
                               label="Data inicial"
                               idComponente="dataInicial"
                               styleClass="col-xs-12 col-sm-2 col-md-2"/>

                <erp:campoData nomeAtributo="#{entradaNotaFiscalControll.dataFinal}"
                               label="Data Final"
                               idComponente="dataFinal"
                               styleClass="col-xs-12 col-sm-2 col-md-2"/>

                <erp:campoTexto nomeAtributo="#{entradaNotaFiscalControll.numero}"
                                styleClass="col-xs-12 col-sm-2 col-md-2"
                                idComponente="codigo"
                                label="Número"
                                tamanhoMaximo="9"/>
                <h:panelGroup class="col-xs-12 col-sm-6 col-md-6" layout="block"
                              rendered="#{entradaNotaFiscalControll.listaEmpresas.size() gt 1}">
                    <h:outputLabel value="Empresa"/>
                    <h:selectOneMenu value="#{entradaNotaFiscalControll.idmepresaFiltro}"
                                     styleClass="form-control">
                        <f:selectItems value="#{entradaNotaFiscalControll.listaEmpresas}" itemValue="#{obj.id}"
                                       var="obj"/>
                    </h:selectOneMenu>
                </h:panelGroup>

                <div class="col-xs-12 col-sm-6 col-md-6">
                    <h:outputLabel value="Fornecedor" for="nomeFornecedor"/>

                    <div class="field-action">
                        <h:inputText value="#{entradaNotaFiscalControll.nomeFornecedor}"
                                     id="nomeFornecedor"
                                     styleClass="form-control"/>
                        <p:commandButton value="Pesquisar"
                                         action="#{entradaNotaFiscalControll.pesquisar}"
                                         update="formCentro:telaGrid:outputPanelGrid"
                                         style="margin-left: 10px"/>
                    </div>
                </div>


            </div>

            <p:dataTable
                    value="#{entradaNotaFiscalControll.dataModel}"
                    var="row" id="tableEntrada" paginator="true"
                    rows="20" rowsPerPageTemplate="20,30,40,50" paginatorPosition="bottom"
                    reflow="true" rendered="#{vendaCabecalhoControll.podeConsultar()}"
                    lazy="true" sortBy="#{row.id}" sortOrder="descending"
            >

                <p:column headerText="Fornecedor">
                    <h:outputLabel value="#{row.fornecedor.pessoa.nome}"/>
                </p:column>
                <p:column headerText="Serie" width="60" styleClass="text-center">
                    <h:outputLabel value="#{row.serie}"/>
                </p:column>
                <p:column headerText="Número" width="100" styleClass="text-center">
                    <h:outputLabel value="#{row.numero}"/>
                </p:column>
                <p:column headerText="Data Entrada" width="153" sortBy="#{row.dataHoraEntradaSaida}"
                          styleClass="text-center">
                    <h:outputLabel value="#{row.dataHoraEntradaSaida}">
                        <f:convertDateTime pattern="dd/MM/yyyy"/>
                    </h:outputLabel>
                </p:column>
                <p:column headerText="Valor Total" width="116" styleClass="text-right">
                    <h:outputLabel value="#{row.valorTotal}">
                        <f:convertNumber pattern="#,###,##0.00"/>
                    </h:outputLabel>
                </p:column>

                <p:column headerText="Status" sortBy="#{row.statusNota}" width="110" styleClass="text-center">
                    <h:outputLabel
                            value="#{entradaNotaFiscalControll.keyFromValue(nfeCabecalhoControll.statusNfe, row.statusNota)}"/>
                </p:column>

                <p:column headerText="Ações" width="120" class="text-center">
                    <p:commandLink title="Alterar" action="#{entradaNotaFiscalControll.doEdit()}"
                                   class=" btn btn-default"
                                   oncomplete="addClass()"
                                   update=":formCentro:telaGrid:outputPanelGrid,:formCentro:outputPanelDetalhe,navegacao,:formCentro:mensagem"

                    >
                        <i class="fa fa-file-text-o"></i>
                        <f:setPropertyActionListener value="#{row}"
                                                     target="#{entradaNotaFiscalControll.objetoSelecionado}"/>
                    </p:commandLink>
                    &nbsp;
                    <p:commandLink title="Excluir" action="#{entradaNotaFiscalControll.remover()}"

                                   update=":formCentro:growl,:formCentro:telaGrid:outputPanelGrid,:formCentro:outputPanelDetalhe"
                                   process="tableEntrada"
                                   oncomplete="atualizarMsg();"
                                   class="btn btn-default"
                                   rendered="#{!entradaNotaFiscalControll.somenteConsulta(row)}"
                    >
                        <i class="fa fa-times"></i>
                        <p:confirm header="Confirmar" message="Deseja excluir ?"/>

                        <f:setPropertyActionListener value="#{row}"
                                                     target="#{entradaNotaFiscalControll.objetoSelecionado}"/>
                    </p:commandLink>


                </p:column>

            </p:dataTable>
        </erp:formularioGrid>

    </ui:define>


    <ui:define name="telaInclusaoAlteracao">


        <h:panelGroup layout="block" id="outputPanelDetalhe">
            <h:panelGroup layout="block" rendered="#{!entradaNotaFiscalControll.telaGrid}">
                <h:panelGroup layout="block" id="panelCentroDetalhe">
                    <div class="ibox-content">
                        <div class="row">
                            <div class="col-lg-12">
                                <h:panelGroup layout="block" rendered="#{not empty entradaNotaFiscalControll.objeto}">
                                    <ui:include src="formEntradaNotaFiscal.xhtml"/>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                    <div class="ibox-footer">
                        <h:panelGroup layout="block" rendered="#{not empty entradaNotaFiscalControll.objeto}">
                            <div class="row">
                                <div class="col-xs-6 col-lg-6">

                                    <h:commandButton value="Salvar" styleClass="btn btn-primary center-block"
                                                     rendered="#{entradaNotaFiscalControll.objeto.statusNota eq 0 }"
                                                     disabled="#{!entradaNotaFiscalControll.podeInserir() or entradaNotaFiscalControll.objeto.listaNfeDetalhe.size() le 0 }"
                                                     id="btnFechamento">
                                        <p:ajax
                                                listener="#{entradaNotaFiscalControll.validar}"
                                                update=":formOutrasTelas6:panelFechamento,formCentro:growl,formCentro:mensagem,navegacao,:formCentro:outputPanelDetalhe"
                                                oncomplete="if (!args.validationFailed) {PF('dialogFechamento').show();}"
                                                process="@form"/>
                                    </h:commandButton>

                                </div>
                                <div class="#{entradaNotaFiscalControll.objeto.statusNota eq 0 ? 'col-md-6': 'col-md-12' }">
                                    <h:commandButton value="Cancelar" styleClass="btn btn-default center-block"
                                                     actionListener="#{entradaNotaFiscalControll.voltar()}"
                                                     id="btnCancelarEntrada">
                                        <p:ajax update=":formCentro:telaGrid:outputPanelGrid,:formCentro:outputPanelDetalhe,navegacao,:formCentro:mensagem"
                                                process="@this"/>
                                    </h:commandButton>
                                </div>
                            </div>

                        </h:panelGroup>
                    </div>
                </h:panelGroup>
            </h:panelGroup>
        </h:panelGroup>

    </ui:define>

    <ui:define name="outrasTelas">
        <h:form id="formOutrasTelas">
            <p:dialog id="dialogNfeDetalhe"
                      header="Inclusão/Alteração de Produto/Serviço"
                      visible="#{entradaNotaFiscalControll.podeIncluirProduto}"
                      widgetVar="dialogNfeDetalhe" showEffect="slide" hideEffect="slide"
                      resizable="true" modal="true" closable="false" width="800">

                <p:outputPanel id="panelNfeDetalhe">

                    <ui:include src="formProduto.xhtml"/>
                </p:outputPanel>

                <f:facet name="footer">

                    <div class="row">
                        <div class="col-xs-12 col-sm-6 col-md-6 text-center">
                            <p:commandButton value="Salvar"
                                             id="btnSalvarProduto"
                                             action="#{entradaNotaFiscalControll.salvaProduto}"
                                             oncomplete="if (!args.validationFailed) {PF('dialogNfeDetalhe').hide();}"
                                             process="@form"
                                             update=":formOutrasTelas:panelNfeDetalhe,:formCentro:growl,formCentro:tabNfe:dataTableNfeDetalhe,:formCentro:btnFechamento,:formCentro:tabNfe:panel-dados-principais"
                            />


                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-6">
                            <h:commandButton value="Cancelar"
                                             styleClass="btn btn-default center-block">
                                <p:ajax oncomplete="PF('dialogNfeDetalhe').hide();" process="@this"/>
                            </h:commandButton>
                        </div>
                    </div>

                </f:facet>
            </p:dialog>
        </h:form>
    </ui:define>

    <ui:define name="outrasTelas1">
        <h:form id="formOutrasTelas1">
            <p:dialog id="dialogDuplicata" header="Cadastro de Duplicatas"
                      widgetVar="dialogDuplicata" showEffect="slide"
                      hideEffect="slide" resizable="true" modal="true" closable="true"
                      width="800">
                <p:outputPanel id="panelDuplicatas">
                    <div class="row">
                        <div class="col-xs-12 col-sm-9 col-md-9">
                            <p:outputLabel value="Condição pagamento" for="condicaoPagamento"/>
                            <br/>
                            <p:autoComplete id="condicaoPagamento"
                                            value="#{entradaNotaFiscalControll.condicao}"
                                            completeMethod="#{entradaNotaFiscalControll.getListaVendaCondicoesPagamento}"
                                            var="condicao" itemLabel="#{condicao.nome}"
                                            itemValue="#{condicao}"
                                            converter="defaultConverter"
                                            forceSelection="true" minQueryLength="3" maxResults="100"
                                            required="true" style="width: 100%"
                                            emptyMessage="Nenhum registro encontrado"/>
                        </div>
                        <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-3"
                                          idComponente="valorParcela" label="Valor"
                                          nomeAtributo="#{entradaNotaFiscalControll.duplicata.valor}"
                        />
                    </div>
                </p:outputPanel>
                <f:facet name="footer">
                    <div class="row">
                        <div class="col-xs-6 col-sm-6 col-md-6 text-center">
                            <p:commandButton value="Salvar"
                                             id="btnSalvarDuplicata"
                                             action="#{entradaNotaFiscalControll.salvarDuplicata()}"
                                             oncomplete="if (!args.validationFailed) {PF('dialogDuplicata').hide();}"
                                             update=":formCentro:growl,formCentro:mensagem,:formCentro:tabNfe:dataTableDuplicata"/>

                        </div>
                        <div class="col-xs-6 col-sm-6 col-md-6">
                            <h:commandButton value="Cancelar"
                                             styleClass="btn btn-default center-block">
                                <p:ajax oncomplete="PF('dialogDuplicata').hide();" process="@this"/>
                            </h:commandButton>
                        </div>
                    </div>
                </f:facet>
            </p:dialog>
        </h:form>
    </ui:define>

    <ui:define name="outrasTelas2">
        <h:form id="formUploadArquivo" enctype="multipart/form-data">
            <p:dialog id="dialogUploadArquivo" header="Selecionar Arquivo"
                      widgetVar="dialogUploadArquivo" showEffect="slide"
                      hideEffect="slide" resizable="true" modal="true" closable="false"
                      width="800">
                <p:outputPanel id="panelUploadArquivo">
                    <div class="row">
                        <p:fileUpload
                                id="btnImportarXml"
                                fileUploadListener="#{entradaNotaFiscalControll.importaXML}"
                                mode="advanced" fileLimit="1" allowTypes="/(\.|\/)(xml)$/"
                                update=":formCentro:growl,formCentro:mensagem,:formCentro:outputPanelDetalhe"
                                oncomplete="PF('dialogUploadArquivo').hide()"/>
                    </div>
                </p:outputPanel>
                <f:facet name="footer">
                    <p:commandButton value="Cancelar"
                                     id="btnCancelarImportacaoXml"
                                     oncomplete="PF('dialogUploadArquivo').hide();"
                                     process="@this"/>
                </f:facet>
            </p:dialog>
        </h:form>
    </ui:define>


    <ui:define name="outrasTelas3">
        <h:form id="formOutrasTelas3">
            <p:dialog id="dialogCadastrarProduto" header="Cadastrar Produto"
                      widgetVar="dialogCadastrarProduto" showEffect="slide" responsive="true"
                      hideEffect="slide" resizable="true" modal="true" closable="true"
                      width="800">
                <p:outputPanel id="panelCadastrarProduto">
                    <ui:include src="cadastroProduto.xhtml"/>
                </p:outputPanel>
                <f:facet name="footer">
                    <div class="row">
                        <div class="col-xs-6 col-lg-6">
                            <h:commandButton value="Salvar"
                                             action="#{entradaNotaFiscalControll.salvarNovoProduto()}"
                                             styleClass="btn btn-primary center-block"
                                             id="btnSalvarNovoProduto">
                                <p:ajax oncomplete="if (!args.validationFailed) {PF('dialogCadastrarProduto').hide();}"
                                        process="@form"
                                        update=":formCentro:growl,:formCentro:mensagem,:formCentro:tabNfe:dataTableNfeDetalhe"/>
                            </h:commandButton>

                        </div>
                        <div class="col-xs-6 col-lg-6">
                            <h:commandButton value="Cancelar"
                                             styleClass="btn btn-default center-block">
                                <p:ajax oncomplete="PF('dialogCadastrarProduto').hide();" process="@this"/>
                            </h:commandButton>
                        </div>
                    </div>
                </f:facet>
            </p:dialog>

        </h:form>
    </ui:define>

    <ui:define name="outrasTelas4">
        <h:form id="formDetalheImposto">
            <p:dialog id="dialogDetalheImposto" header="Detalhe Imposto"
                      widgetVar="dialogDetalheImposto" showEffect="slide"
                      hideEffect="slide" resizable="true" modal="true" closable="false"
                      width="900">
                <p:outputPanel id="panelDetalheImposto">
                    <ui:include src="impostos.xhtml"/>
                </p:outputPanel>
            </p:dialog>
        </h:form>
    </ui:define>


    <ui:define name="outrasTelas5">
        <h:form id="formOutrasTelas5">
            <p:dialog id="dialogVincularProduto" header="Vicular Produto"
                      widgetVar="dialogVincularProduto" showEffect="slide" responsive="true"
                      hideEffect="slide" resizable="true" modal="true" closable="true"
                      width="500">
                <p:outputPanel id="panelVincularProduto">
                    <div class="row">
                        <div class="col-xs-12 col-sm-3 col-md-12">
                            <p:outputLabel value="Produto" for="nfeDetalheProduto"/>
                            <br/>
                            <p:autoComplete id="nfeDetalheProduto"
                                            value="#{entradaNotaFiscalControll.produto}"
                                            completeMethod="#{entradaNotaFiscalControll.getListaProduto}"
                                            var="produto" itemLabel="#{produto.nome}"
                                            itemValue="#{produto}"
                                            converter="defaultConverter"
                                            forceSelection="true" minQueryLength="3"
                                            dropdown="true"
                                            required="true" style="width: 100%"
                                            emptyMessage="Nenhum registro encontrado">

                            </p:autoComplete>
                        </div>
                    </div>
                    <div class="row">
                        <erp:campoTexto styleClass="col-xs-12 col-sm-3 col-md-12"
                                        idComponente="nfeDetalheProduto"
                                        tamanhoMaximo="120"
                                        label="Produto NFe"
                                        nomeAtributo="#{entradaNotaFiscalControll.nfeDetalhe.nomeProduto}"
                                        somenteLeitura="true"
                        />
                    </div>
                </p:outputPanel>
                <f:facet name="footer">
                    <div class="row">
                        <div class="col-xs-6 col-lg-6 text-center">
                            <p:commandButton value="Salvar"
                                             action="#{entradaNotaFiscalControll.vincularProduto()}"
                                             oncomplete="if (!args.validationFailed) {PF('dialogVincularProduto').hide();}"
                                             process="@form"
                                             update=":formCentro:mensagem,:formCentro:tabNfe:dataTableNfeDetalhe"
                                             id="btnSalvarProdutoVinculado"/>

                        </div>
                        <div class="col-xs-6 col-lg-6">
                            <h:commandButton value="Cancelar"
                                             styleClass="btn btn-default center-block">
                                <p:ajax oncomplete="PF('dialogVincularProduto').hide();" process="@this"/>
                            </h:commandButton>
                        </div>
                    </div>
                </f:facet>
            </p:dialog>

        </h:form>
    </ui:define>


    <ui:define name="outrasTelas6">
        <h:form id="formOutrasTelas6">
            <p:dialog id="dialogFechamento" header="Detalhe Imposto"
                      widgetVar="dialogFechamento" showEffect="slide"
                      hideEffect="slide" resizable="true" modal="true" closable="true"
                      width="600" responsive="true">
                <p:outputPanel id="panelFechamento">
                    <div class="row">
                        <div class="col-xs-12 col-sm-12">
                            <p:panelGrid columns="4"
                                         columnClasses="ui-grid-col-4,ui-grid-col-2,ui-grid-col-3,ui-grid-col-3"
                                         layout="grid" styleClass="ui-panelgrid-blank">
                                <h:outputLabel value="Valor Produtos"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.valorTotalProdutos}"
                                >
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalProdutos}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.valorTotalProdutos, entradaNotaFiscalControll.valorTotalProdutos) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>

                                <h:outputLabel value="Valor Total"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.valorTotal}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalNF}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.valorTotal, entradaNotaFiscalControll.valorTotalNF) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>

                                <h:outputLabel value="Frete"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.valorFrete}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalFrete}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.valorFrete, entradaNotaFiscalControll.valorTotalFrete) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>

                                <h:outputLabel value="Desconto"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.valorDesconto}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalDesconto}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.valorDesconto, entradaNotaFiscalControll.valorTotalDesconto) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>

                                <h:outputLabel value="Base Calc. ICMS"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.baseCalculoIcms}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalBaseCalcIcms}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.baseCalculoIcms, entradaNotaFiscalControll.valorTotalBaseCalcIcms) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>

                                <h:outputLabel value="Valor ICMS"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.valorIcms}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalIcms}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.valorIcms, entradaNotaFiscalControll.valorTotalIcms) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>


                                <h:outputLabel value="Base Calc. ICMS ST"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.baseCalculoIcmsSt}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalBaseCalcIcmsST}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.baseCalculoIcmsSt, entradaNotaFiscalControll.valorTotalBaseCalcIcmsST) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>

                                <h:outputLabel value="Valor ICMS ST"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.valorIcmsSt}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalIcmsST}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.valorIcmsSt, entradaNotaFiscalControll.valorTotalIcmsST) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>

                                <h:outputLabel value="Valor IPI"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.valorIpi}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalIpi}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.valorIpi, entradaNotaFiscalControll.valorTotalIpi) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>

                                <h:outputLabel value="Valor PIS"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.valorPis}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalPis}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.valorPis, entradaNotaFiscalControll.valorTotalPis) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>


                                <h:outputLabel value="Valor Cofins"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.objeto.valorCofins}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                                <h:outputLabel value="Valor Informado"/>
                                <h:outputLabel value="#{entradaNotaFiscalControll.valorTotalCofins}"
                                               style="color: #{entradaNotaFiscalControll.validarValor(entradaNotaFiscalControll.objeto.valorCofins, entradaNotaFiscalControll.valorTotalCofins) ? 'black':'red'}">
                                    <f:convertNumber pattern="#,###,##0.00"/>
                                </h:outputLabel>
                            </p:panelGrid>

                        </div>
                    </div>
                </p:outputPanel>
                <f:facet name="footer">
                    <div class="row">
                        <div class="col-xs-6 col-lg-6 text-center">


                            <p:splitButton value="Salvar"
                                           actionListener="#{entradaNotaFiscalControll.salvarEntrada()}"
                                           oncomplete="if (!args.validationFailed) {PF('dialogFechamento').hide();}"
                                           update=":formCentro:growl,:formCentro:mensagem,:formCentro:outputPanelDetalhe,:formCentro:telaGrid:outputPanelGrid"
                                           process="@form"
                                           icon="ui-icon-disk">

                                <p:menuitem value="Finalizar"
                                            actionListener="#{entradaNotaFiscalControll.finalizar}"
                                            oncomplete="if (!args.validationFailed) {PF('dialogFechamento').hide();}"
                                            update=":formCentro:growl,:formCentro:mensagem,:formCentro:outputPanelDetalhe,:formCentro:telaGrid:outputPanelGrid"
                                            process="@form"
                                            icon="ui-icon-arrowrefresh-1-w"/>

                            </p:splitButton>


                        </div>
                        <div class="col-xs-6 col-lg-6">
                            <h:commandButton value="Cancelar"
                                             styleClass="btn btn-default center-block">
                                <p:ajax oncomplete="PF('dialogFechamento').hide();" process="@this"/>
                            </h:commandButton>
                        </div>
                    </div>
                </f:facet>
            </p:dialog>
        </h:form>
    </ui:define>


</ui:composition>
