<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                template="/WEB-INF/layout/layoutPadrao.xhtml" 
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:erp="http://java.sun.com/jsf/composite/components"
                >

    <ui:define name="title">
        Produto 
    </ui:define>

    <ui:define name="tela">
        #{produtoControll.titulo}
    </ui:define>
    <ui:define name="controle">
        Produto 
    </ui:define>



    <ui:define name="gridDados">

        <erp:gridDados controller="#{produtoControll}"
                       idDataTable="dataTableProduto"
                       nomeFuncao="Produto"
                       id="telaGrid"
                       somenteConsulta="true">

            <p:column headerText="Nome">
                <h:outputLabel value="#{obj.nome}" />
            </p:column>
            <p:column headerText="Gtin">
                <h:outputLabel value="#{obj.gtin}" />
            </p:column>
            <p:column headerText="Valor">
                <h:outputLabel value="#{obj.valorVenda}" >
                    <f:convertNumber pattern="#,###,##0.00" />
                </h:outputLabel>
            </p:column>
            <p:column headerText="Qtde Estoque">
                <h:outputLabel value="#{obj.quantidadeEstoque}" >
                    <f:convertNumber pattern="#,##0.000" />
                </h:outputLabel>
            </p:column>
            <p:column headerText="Unidade">
                <h:outputLabel value="#{obj.unidadeProduto.sigla}" />
            </p:column>
            <p:column headerText="Marca">
                <h:outputLabel value="#{obj.produtoMarca.nome}" />
            </p:column>


        </erp:gridDados>
    </ui:define>


    <ui:define name="telaInclusaoAlteracao">
        <erp:telaInclusaoAlteracao controller="#{produtoControll}"
                                   nomeFuncao="Produto"
                                   id="telaDetalhe"
                                    >

            <div class="row">

               
            <erp:autoComplete styleClass="col-xs-12 col-sm-3 col-md-100"
                                    label="Subgrupo" 
                                    itemLabel="#{objeto.nome}"
                                    controller="#{produtoControll}"
                                    completeMethod="getListaSubgrupo"
                                    nomeAtributo="#{produtoControll.objeto.produtoSubgrupo}" 
                                    idComponente="produtoSubgrupo" />

            <erp:autoComplete styleClass="col-xs-12 col-sm-3 col-md-30"
                                    label="Unidade Produto" 
                                    itemLabel="#{objeto.sigla}"
                                    controller="#{produtoControll}"
                                    completeMethod="getListaUnidadeProduto"
                                    nomeAtributo="#{produtoControll.objeto.unidadeProduto}" 
                                    idComponente="produtoUnidadeProduto" >

                <p:column headerText="Sigla">
                    <p:outputLabel value="#{objeto.sigla}" />
                </p:column>                
                <p:column headerText="Descricao">
                    <p:outputLabel value="#{objeto.descricao}" />
                </p:column>                
                <p:column headerText="Pode Fracionar">
                    <p:outputLabel value="#{objeto.podeFracionar}" />
                </p:column>                

            </erp:autoComplete>
            <erp:autoComplete styleClass="col-xs-12 col-sm-3 col-md-30"
                                    label="Marca" 
                                    itemLabel="#{objeto.nome}"
                                    controller="#{produtoControll}"
                                    completeMethod="getListaMarcaProduto"
                                    nomeAtributo="#{produtoControll.objeto.produtoMarca}" 
                                    idComponente="produtoMarcaProduto"
                                    requerido="false"/>
            <erp:autoComplete styleClass="col-xs-12 col-sm-3 col-md-40"
                                    label="Almoxarifado" 
                                    itemLabel="#{objeto.nome}"
                                    controller="#{produtoControll}"
                                    completeMethod="getListaAlmoxarifado"
                                    nomeAtributo="#{produtoControll.objeto.almoxarifado}" 
                                    idComponente="produtoAlmoxarifado"
                                    requerido="false"/>

            <erp:autoComplete styleClass="col-xs-12 col-sm-3 col-md-50"
                                    label="ICMS Customizado" 
                                    itemLabel="#{objeto.descricao}"
                                    controller="#{produtoControll}"
                                    completeMethod="getListaTributIcmsCustomCab"
                                    nomeAtributo="#{produtoControll.objeto.tributIcmsCustomCab}" 
                                    idComponente="produtoTributIcmsCustomCab"
                                    requerido="false"
                                    id="campoProdutoTributIcmsCustomCab">
                <p:ajax event="itemSelecionado"
                        listener="#{produtoControll.alteraTributacao}"
                        update="form1:telaDetalhe:campoProdutoGrupoTributario:produtoGrupoTributario" />

            </erp:autoComplete>
            <erp:autoComplete styleClass="col-xs-12 col-sm-3 col-md-50"
                                    label="Grupo Tributario" 
                                    itemLabel="#{objeto.descricao}"
                                    controller="#{produtoControll}"
                                    completeMethod="getListaGrupoTributario"
                                    nomeAtributo="#{produtoControll.objeto.tributGrupoTributario}" 
                                    idComponente="produtoGrupoTributario"
                                    requerido="false"
                                    id="campoProdutoGrupoTributario">

                <p:ajax event="itemSelecionado"
                        listener="#{produtoControll.alteraTributacao()}"
                        update="form1:telaDetalhe:campoProdutoTributIcmsCustomCab:produtoTributIcmsCustomCab" />

            </erp:autoComplete>

            <erp:campoTexto styleClass="col-xs-12 col-sm-3 col-md-50"
                             idComponente="produtoNome" label="Nome"
                             nomeAtributo="#{produtoControll.objeto.nome}"
                             tamanhoMaximo="100"
                             requerido="true"/>
            <erp:campoTexto styleClass="col-xs-12 col-sm-3 col-md-50"
                             idComponente="produtoDescricaoPdv" label="Descricao PDV"
                             nomeAtributo="#{produtoControll.objeto.descricaoPdv}"
                             tamanhoMaximo="30"
                             requerido="true"/>

            <erp:campoTexto styleClass="col-xs-12 col-sm-3 col-md-20"
                             idComponente="produtoGtin" label="GTIN"
                             nomeAtributo="#{produtoControll.objeto.gtin}"
                             tamanhoMaximo="14"
                             requerido="true" />
            <erp:campoTexto styleClass="col-xs-12 col-sm-3 col-md-20"
                             idComponente="produtoCodigoInterno" label="Codigo Interno"
                             nomeAtributo="#{produtoControll.objeto.codigoInterno}"
                             tamanhoMaximo="60" />
            <erp:campoTexto styleClass="col-xs-12 col-sm-3 col-md-10"
                             idComponente="produtoNcm" label="Ncm"
                             nomeAtributo="#{produtoControll.objeto.ncm}"
                             tamanhoMaximo="8" />
            <erp:campoSelect styleClass="col-xs-12 col-sm-3 col-md-20"
                              idComponente="produtoInativo" label="Inativo"
                              nomeAtributo="#{produtoControll.objeto.inativo}"
                              itens="#{produtoControll.simNao}" />
            <erp:campoSelect styleClass="col-xs-12 col-sm-3 col-md-20"
                              idComponente="produtoClasseAbc" label="Classe ABC"
                              nomeAtributo="#{produtoControll.objeto.classeAbc}"
                              itens="#{produtoControll.produtoClasse}" />


            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoValorCompra" label="Valor Compra"
                               nomeAtributo="#{produtoControll.objeto.valorCompra}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoValorVenda" label="Valor Venda"
                               nomeAtributo="#{produtoControll.objeto.valorVenda}"
                               requerido="true"/>
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-30"
                               idComponente="produtoPrecoVendaMinimo" label="Preco Venda Minimo"
                               nomeAtributo="#{produtoControll.objeto.precoVendaMinimo}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-30"
                               idComponente="produtoPrecoSugerido" label="Preco Sugerido"
                               nomeAtributo="#{produtoControll.objeto.precoSugerido}" />

            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-30"
                               idComponente="produtoCustoMedioLiquido" label="Custo Medio Liquido"
                               nomeAtributo="#{produtoControll.objeto.custoMedioLiquido}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-30"
                               idComponente="produtoPrecoLucroZero" label="Preco Lucro Zero"
                               nomeAtributo="#{produtoControll.objeto.precoLucroZero}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-30"
                               idComponente="produtoPrecoLucroMinimo" label="Preco Lucro Minimo"
                               nomeAtributo="#{produtoControll.objeto.precoLucroMinimo}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-10"
                               idComponente="produtoMarkup" label="Markup"
                               nomeAtributo="#{produtoControll.objeto.markup}" />

            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoCustoUnitario" label="Custo Unitario"
                               nomeAtributo="#{produtoControll.objeto.custoUnitario}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoCustoProducao" label="Custo Producao"
                               nomeAtributo="#{produtoControll.objeto.custoProducao}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoPrecoLucroMaximo" label="Preco Lucro Maximo"
                               nomeAtributo="#{produtoControll.objeto.precoLucroMaximo}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoQuantidadeEstoque" label="Qtde Estoque"
                               nomeAtributo="#{produtoControll.objeto.quantidadeEstoque}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoQuantidadeEstoqueAnterior" label="Qtde Est. Anterior"
                               nomeAtributo="#{produtoControll.objeto.quantidadeEstoqueAnterior}" />

            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoEstoqueMinimo" label="Estoque Minimo"
                               nomeAtributo="#{produtoControll.objeto.estoqueMinimo}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoEstoqueMaximo" label="Estoque Maximo"
                               nomeAtributo="#{produtoControll.objeto.estoqueMaximo}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoEstoqueIdeal" label="Estoque Ideal"
                               nomeAtributo="#{produtoControll.objeto.estoqueIdeal}" />
            <erp:campoData styleClass="col-xs-12 col-sm-3 col-md-20"
                            idComponente="produtoDataCadastro" label="Data Cadastro"
                            nomeAtributo="#{produtoControll.objeto.dataCadastro}"
                            somenteLeitura="true"/>
            <erp:campoSelect styleClass="col-xs-12 col-sm-3 col-md-20"
                              idComponente="produtoExcluido" label="Excluido"
                              nomeAtributo="#{produtoControll.objeto.excluido}"
                              itens="#{produtoControll.simNao}"
                              desabilitado="true" />

            <erp:campoTexto styleClass="col-xs-12 col-sm-3 col-md-20"
                             idComponente="produtoExTipi" label="Ex TIPI"
                             nomeAtributo="#{produtoControll.objeto.exTipi}"
                             tamanhoMaximo="3" />
            <erp:campoTexto styleClass="col-xs-12 col-sm-3 col-md-20"
                             idComponente="produtoCodigoLst" label="Codigo LST"
                             nomeAtributo="#{produtoControll.objeto.codigoLst}"
                             tamanhoMaximo="4" />
            <erp:campoSelect styleClass="col-xs-12 col-sm-3 col-md-20"
                              idComponente="produtoIat" label="IAT"
                              nomeAtributo="#{produtoControll.objeto.iat}"
                              itens="#{produtoControll.produtoIat}" />
            <erp:campoSelect styleClass="col-xs-12 col-sm-3 col-md-20"
                              idComponente="produtoIppt" label="IPPT"
                              nomeAtributo="#{produtoControll.objeto.ippt}"
                              itens="#{produtoControll.produtoIppt}" />
            <erp:campoSelect styleClass="col-xs-12 col-sm-3 col-md-20"
                              idComponente="produtoTipoItemSped" label="Tipo Item Sped"
                              nomeAtributo="#{produtoControll.objeto.tipoItemSped}"
                              itens="#{produtoControll.tipoItemSped}" />

            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoPeso" label="Peso"
                               nomeAtributo="#{produtoControll.objeto.peso}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoPorcentoComissao" label="Porcento Comissao"
                               nomeAtributo="#{produtoControll.objeto.porcentoComissao}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoAliquotaIcmsPaf" label="% ICMS PAF"
                               nomeAtributo="#{produtoControll.objeto.aliquotaIcmsPaf}" />
            <erp:campoDecimal styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoAliquotaIssqnPaf" label="% ISSQN PAF"
                               nomeAtributo="#{produtoControll.objeto.aliquotaIssqnPaf}" />
            <erp:campoTexto styleClass="col-xs-12 col-sm-3 col-md-20"
                             idComponente="produtoTotalizadorParcial" label="Totalizador Parcial"
                             nomeAtributo="#{produtoControll.objeto.totalizadorParcial}"
                             tamanhoMaximo="10" />

            <erp:campoInteiro styleClass="col-xs-12 col-sm-3 col-md-20"
                               idComponente="produtoCodigoBalanca" label="Codigo Balanca"
                               nomeAtributo="#{produtoControll.objeto.codigoBalanca}" />
            <erp:campoSelect styleClass="col-xs-12 col-sm-3 col-md-20"
                              idComponente="produtoTipo" label="Tipo"
                              nomeAtributo="#{produtoControll.objeto.tipo}"
                              itens="#{produtoControll.produtoTipo}" />
            <erp:campoSelect styleClass="col-xs-12 col-sm-3 col-md-20"
                              idComponente="produtoServico" label="Servico"
                              nomeAtributo="#{produtoControll.objeto.servico}"
                              itens="#{produtoControll.simNao}" />

            <erp:campoAreaTexto styleClass="col-xs-12 col-sm-3 col-md-100"
                                 idComponente="produtoDescricao" label="Descricao"
                                 nomeAtributo="#{produtoControll.objeto.descricao}" />
            </div>
        

        </erp:telaInclusaoAlteracao>
    </ui:define>

</ui:composition>
