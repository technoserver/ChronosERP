<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                xmlns:erp="http://java.sun.com/jsf/composite/components"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
>


    <div class="sidebar-collapse">
        <h:form id="formMenu">
            <ul class="nav metismenu" id="side-menu">
                <li class="nav-header">
                    <div class="dropdown profile-element"> 
                        <span>
                            <h:graphicImage id="imgPadrao" library="images" name="pessoa.png" class="img-circle"
                                            rendered="#{seguranca.fotoFuncionario==null}"/>
                            <h:graphicImage id="imfFuncionario" value="/image/perfil?foto=#{seguranca.fotoFuncionario}"
                                            class="img-circle"
                                            rendered="#{seguranca.fotoFuncionario!=null}"/>

                        </span>
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="clear"> 
                                <span class="block m-t-xs"> 
                                    <strong class="font-bold">#{seguranca.nomeUsuario}</strong>
                                </span> 
                                <span class="text-muted text-xs block">
                                    #{seguranca.cargo}<b class="caret"></b>
                                </span> 
                            </span>
                        </a>
                        <ul class="dropdown-menu animated fadeInRight m-t-xs">
                            <li><h:link outcome="/modulo/agenda/calendario" value="Agenda"/></li>
                            <li><h:link outcome="/modulo/agenda/compromisso" value="Compromisso"/></li>
                            <li class="divider"></li>
                            <li><a href="#{facesContext.externalContext.request.contextPath}/logout">Log out</a></li>
                        </ul>
                    </div>
                    <div class="logo-element">
                        IN+
                    </div>
                </li>
                <li class="${fn:contains(view.viewId,'cadastros')?'active':''}">
                    <a href="#">
                        <i class="fa fa-th-large"></i>
                        <span class="nav-label">Cadastros</span>
                        <span class="fa arrow"></span>
                    </a>
                    <ui:include src="menuCadastros.xhtml"/>
                </li>

                <c:if test="#{seguranca.isAdministrador() eq true }">
                    <li class="${fn:contains(view.viewId,'gerencial')?'active':''}">
                        <a href="#">
                            <i class="fa fa-th-large"></i>
                            <span class="nav-label">Gerencial</span>
                            <span class="fa arrow"></span>
                        </a>
                        <ui:include src="menuGerencial.xhtml"/>
                    </li>
                </c:if>


                <c:if test="#{seguranca.financeiro eq true }">
                    <li class="${fn:contains(view.viewId,'financeiro')?'active':''}">
                        <a href="#">
                            <i class="fa fa-th-large"></i>
                            <span class="nav-label">Financeiro</span>
                            <span class="fa arrow"></span>
                        </a>
                        <ui:include src="menuFinanceiro.xhtml"/>
                    </li>
                </c:if>
                <c:if test="#{seguranca.comercial eq true }">
                    <li class="${fn:contains(view.viewId,'comercial')?'active':''}">
                        <a href="#">
                            <i class="fa fa-th-large"></i>
                            <span class="nav-label">Comercial</span>
                            <span class="fa arrow"></span>
                        </a>
                        <ui:include src="menuComercial.xhtml"/>
                    </li>
                </c:if>

                <c:if test="#{seguranca.suprimentos eq true }">
                    <!--FISCAL-->
                    <li class="${fn:contains(view.viewId,'suprimentos')?'active':''}">
                        <a href="#">
                            <i class="fa fa-th-large"></i>
                            <span class="nav-label">Suprimentos</span>
                            <span class="fa arrow"></span>
                        </a>
                        <ui:include src="menuSuprimentos.xhtml"/>
                    </li>

                </c:if>


                <c:if test="#{seguranca.fiscal eq true }">
                    <!--FISCAL-->
                    <li class="${fn:contains(view.viewId,'fiscal')?'active':''}">
                        <a href="#">
                            <i class="fa fa-th-large"></i>
                            <span class="nav-label">Fiscal</span>
                            <span class="fa arrow"></span>
                        </a>
                        <ui:include src="menuFiscal.xhtml"/>
                    </li>
                </c:if>


                <!--Configuracoes-->
                <li class="${fn:contains(view.viewId,'configuracoes')?'active':''}">
                    <a href="#">
                        <i class="fa fa-th-large"></i>
                        <span class="nav-label">Configuracoes</span>
                        <span class="fa arrow"></span>
                    </a>
                    <ul class="nav nav-second-level collapse ">
                        <li class="${fn:contains(view.viewId,'modulo/configuracoes/')?'active':''}">


                            <erp:subMenu caminho="/modulo/configuracoes/parametros"
                                         label="Parametros"
                                         funcao="parametros"/>


                            <erp:subMenu caminho="/modulo/configuracoes/certificado"
                                         label="Certificado"
                                         funcao="certificado"/>

                            <erp:subMenu caminho="/modulo/configuracoes/nfeConfiguracao"
                                         label="NF-e"
                                         exibir="#{seguranca.isTemAcesso('STATUS_NFE')}"
                                         funcao="/nfeConfiguracao"/>


                            <erp:subMenu caminho="/modulo/configuracoes/pdvConfiguracao"
                                         label="Configuração PDV"
                                         exibir="#{seguranca.isTemAcesso('NFCE_CONFIGURACAO')}"
                                         funcao="pdvConfiguracao"/>

                            <erp:subMenu caminho="/modulo/configuracoes/mdfeConfiguracao"
                                         label="MDF-e"
                                         funcao="mdfeConfiguracao"/>

                            <erp:subMenu caminho="/modulo/configuracoes/notaFiscalTipo"
                                         label="Modelos Doc Fiscais"
                                         funcao="notaFiscalTipo"/>


                        </li>
                    </ul>
                </li>


            </ul>
        </h:form>

    </div>

</ui:composition>
